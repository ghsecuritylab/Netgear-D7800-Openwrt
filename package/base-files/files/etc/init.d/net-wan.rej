diff a/package/base-files/files/etc/init.d/net-wan b/package/base-files/files/etc/init.d/net-wan	(rejected hunks)
@@ -122,17 +129,9 @@ setup_interface_dhcp()
 	fi
 
 	if [ "x$($CONFIG get wan_domain)" = "x" ];then
-		if [ "x$($CONFIG get wan_hostname)" != "x" ];then
-			udhcpc -b -i brwan -h "$($CONFIG get wan_hostname)" -r $($CONFIG get wan_dhcp_ipaddr) -N $($CONFIG get wan_dhcp_oldip) &
-		else
-			udhcpc -b -i brwan -h "$($CONFIG get Device_name)" -r $($CONFIG get wan_dhcp_ipaddr) -N $($CONFIG get wan_dhcp_oldip) &
-		fi
+		udhcpc -b -i brwan -h "$(get_wan_hostname)" -r $($CONFIG get wan_dhcp_ipaddr) -N $($CONFIG get wan_dhcp_oldip) &
 	else
-		if [ "x$($CONFIG get wan_hostname)" != "x" ];then
-			udhcpc -b -i brwan -h "$($CONFIG get wan_hostname)" -r $($CONFIG get wan_dhcp_ipaddr) -N $($CONFIG get wan_dhcp_oldip) -d $($CONFIG get wan_domain) &
-		else
-			udhcpc -b -i brwan -h "$($CONFIG get Device_name)" -r $($CONFIG get wan_dhcp_ipaddr) -N $($CONFIG get wan_dhcp_oldip) -d $($CONFIG get wan_domain) &
-		fi
+		udhcpc -b -i brwan -h "$(get_wan_hostname)" -r $($CONFIG get wan_dhcp_ipaddr) -N $($CONFIG get wan_dhcp_oldip) -d $($CONFIG get wan_domain) &
 	fi
 }
 
