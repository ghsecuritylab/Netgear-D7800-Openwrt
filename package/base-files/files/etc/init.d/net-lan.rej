diff a/package/base-files/files/etc/init.d/net-lan b/package/base-files/files/etc/init.d/net-lan	(rejected hunks)
@@ -70,11 +77,7 @@ start0() # $1: boot/start
 	local lan_mask=$($CONFIG get lan_netmask)
 
 	# Update the hostname
-	if [ "x$($CONFIG get netbiosname)" != "x" ]; then
-		echo "$($CONFIG get netbiosname)" > /proc/sys/kernel/hostname
-	else
-		echo "$($CONFIG get Device_name)" > /proc/sys/kernel/hostname
-	fi
+	setup_hostname
 
 	ifconfig ethlan up
 	ifconfig br0 ${lan_ip:-192.168.1.1} netmask ${lan_mask:-255.255.255.0}
